# オリパシミュレーター v2.0

オリジナルパック（オリパ）の設計・収益計算を行うWebベースのシミュレーションツールです。

## 機能

### 📊 基本機能
- **パック設計**: 単価・口数・還元率の設定
- **景品管理**: 景品を自由に追加・編集・管理
- **景品マスター**: 景品データをクラウド保存・共有
- **仮装景品**: 実在しないカードで構成を検討
- **ハズレ自動計算**: 2〜4種類のハズレを自動生成
- **収益分析**: 実質還元率・期待値・標準偏差の計算

### 📈 高度な分析
- **期待値シミュレーション**: 1〜20回引いた場合の詳細分析
- **収支確率**: プラス・マイナスになる確率
- **倍率確率**: 1倍〜5倍以上のリターン確率
- **グラフ表示**: 理論期待値の視覚的表示
- **ガチャシミュレーター**: 実際にガチャを引いて体験

### 💾 便利機能
- **クラウド保存**: Firebaseによる設定のクラウド保存
- **設定共有**: URLで設定を簡単に共有
- **履歴管理**: 複数の設計パターンを保存・比較
- **プリセット機能**: よく使う設定をプリセット登録
- **レスポンシブ対応**: PC・タブレット・スマートフォンで利用可能

## 使用方法

### クイックスタート

1. **ローカルサーバーを起動**
   - Mac: `start-server.command` をダブルクリック
   - Windows: `start-server.bat` をダブルクリック
   - ブラウザで `http://localhost:8000` が自動で開きます

2. **基本設定を入力**
   - パック単価・総口数を設定
   - プリセットから選択も可能

3. **景品を追加**
   - 「景品マスター」タブで景品データを登録
   - または「仮装景品」で仮の景品を作成
   - メインタブで景品を選択して追加

4. **計算・シミュレーション**
   - 「🧮 計算する」で結果を確認
   - 「ガチャシミュレーター」タブで実際に引いてみる

5. **設定を保存・共有**
   - 「💾 新規保存」でクラウドに保存
   - 「🔗 共有URL」で他の人と共有

### 主要タブの説明

- **メイン**: オリパの基本設定と景品管理
- **景品マスター**: 景品データベースの管理
- **仮装景品**: 仮の景品で構成を検討
- **ガチャシミュレーター**: 実際にガチャを引いて体験
- **クラウド設定**: 保存した設定の管理と共有

## 技術仕様

- **フロントエンド**: HTML5 + CSS3 + JavaScript (ES6+)
- **データ保存**: Firebase Realtime Database + localStorage
- **認証**: Firebase Anonymous Authentication
- **グラフ描画**: HTML5 Canvas
- **統計計算**: 正規分布近似による確率計算
- **ローカルサーバー**: Python SimpleHTTPServer

## 注意事項

⚠️ **免責事項**
- このツールは設計検討用のシミュレーターです
- 実際の運用には法的確認が必要です
- 計算結果は理論値であり、実際の結果を保証するものではありません

## 更新履歴

### v2.0 (2025年9月)
- 期待値シミュレーション機能追加
- ハズレ設計の詳細設定対応
- 収支・倍率確率の表示
- UI/UXの大幅改善

### v1.0 (2025年8月)
- 初回リリース
- 基本的なオリパ設計機能

---

**開発**: Claude Code with Anthropic  
**企画**: 株式会社DENDOH オリパ事業部