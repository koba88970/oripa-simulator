# オリパシミュレーターオンラインUltra - 起動方法

## 🚨 重要：必ずローカルサーバーで起動してください

Firebaseクラウド同期機能を使用するため、HTMLファイルを直接ダブルクリックして開くのではなく、
**必ずローカルサーバー経由で起動**する必要があります。

## 📝 起動手順

### Mac / Linuxの場合

1. `start-server.command` をダブルクリック
2. ブラウザで http://localhost:8000 を開く

### Windowsの場合

1. `start-server.bat` をダブルクリック
2. ブラウザで http://localhost:8000 を開く

### 手動で起動する場合

ターミナル（Mac/Linux）またはコマンドプロンプト（Windows）で以下を実行：

```bash
# プロジェクトフォルダに移動
cd /path/to/oripa-simulator

# ローカルサーバーを起動
python3 -m http.server 8000

# ブラウザで http://localhost:8000 を開く
```

## ⚠️ よくあるエラー

### file:// プロトコルでのエラー

```
permission_denied at
Failed to execute 'postMessage' on 'DOMWindow'
```

→ **原因**: HTMLファイルを直接開いている（file://プロトコル）
→ **解決**: 上記の起動手順に従ってローカルサーバー経由で開く

### Firebase認証エラー

認証が完了するまで5〜10秒かかる場合があります。
「✅ クラウド接続済み」と表示されるまでお待ちください。

## 🎯 確認方法

正常に起動すると：
- アドレスバーに `http://localhost:8000` と表示される
- コンソールに認証成功のメッセージが表示される
- クラウド保存が正常に動作する

## 💾 クラウド保存について

- 設定は自動的にFirebaseに保存されます
- 複数デバイス間で同期されます
- 仮装オリパも保存可能です
